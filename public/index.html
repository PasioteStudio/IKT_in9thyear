<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:100,300'>
    <link rel="stylesheet" href="style.css">
    <script defer src="test.js" ></script>
    <title>AI</title>

    
  </head>
  <body>
    <h1>A Mesterséges Inteligencia(MI vagy AI)</h1>
    <p>Sokféle, fajta Mesterséges Inteligencia van. Pl: Eden.ai, amit használtam ezen a weboldalon.</p>
    <h1>Szöveg Moderátor</h1>
    <p>Írj be egy szöveget(magyarul vagy angolul) és nézd meg, hogy mennyire sértő(1 semennyire, 5 teljesen az)</p>
    <form action="/moderation" method="post">
    <div class="register">
  <div class="field">
    <input id="register" maxlength="21" type="text" name="num1"/><label for="register"><span>Szöveg</span></label><button id="moderationbutton" type="submit" name="submit">
        Lássuk
      </button>
  </div>
</div>

      
      <p>Végeredmény:</p> 
      <ul id="resultsss">
      <li>Sértő? <span id="flagged"></span></li>
      <li>szexuális : <span id="sexualres"></span></li>
      <li>gyűlölköző : <span id="hateres"></span></li>
      <li>erőszakos : <span id="violanceres"></span></li>
      <li>önkárosító : <span id="selfres"></span></li>
      <li>szexuális / kiskorúak : <span id="minres"></span></li>
      <li>gyűlölköző/fenyegető : <span id="threateningres"></span></li>
      <li>erőszak/grafika : <span id="graphicres"></span></li>
      
      </ul>
    </form>
    <p title="sajnos a webserver korlátjai miatt nem tudom megcsinálni, hogy feltölthess saját fájlt">
      Objektum felismerő(válassz ki egy képet és lásd, hogy mit észlel belőle az ai)
    </p>
     <form action="fileupload" method="post">
    <div class="custom-select">
  <button class="custom-select__toggle" id="customSelectToggle" type="button" value="" data-index="0"><img width="100" src="./0.jpg"></button>
  <ul class="custom-select__dropdown" id="customSelectDropdown">
    <li class="custom-select__option" data-value="0" data-index="0"><img width="100" src="./0.jpg"></li>
    <li class="custom-select__option" data-value="1" data-index="1"><img width="100" src="./1.png"></li>
    <li class="custom-select__option" data-value="2" data-index="2"><img width="100" src="./2.png"></li>
    <li class="custom-select__option" data-value="3" data-index="3"><img width="100" src="./3.png"></li>
    <button type="submit" name="submit">
        Lássuk
      </button>
    </select>
  </ul>
</div>
    <div class="custom-select">
  <button class="custom-select__toggle" id="customSelectToggle1" type="button" value="" data-index="0">amazon</button>
  <ul class="custom-select__dropdown" id="customSelectDropdown1">
    <li class="custom-select__option1" data-value="0" data-index="0">amazon</li>
    <li class="custom-select__option1" data-value="1" data-index="1">google</li>
    <li class="custom-select__option1" data-value="2" data-index="2">clarifai</li>
    <li class="custom-select__option1" data-value="3" data-index="3">sentisight</li>
    <li class="custom-select__option1" data-value="4" data-index="4">api4ai</li>
    <li class="custom-select__option1" data-value="5" data-index="5">microsoft</li>
    <button type="submit" name="submit">
        Lássuk
      </button>
    </select>
  </ul>
</div>
    <select name="realSelect" id="realselect" style="visibility:hidden; hight: 0%">
      <option value="0" selected></option>
      <option value="1" ></option>
      <option value="2" ></option>
      <option value="3" ></option>
      </select>
    <select name="realSelect1" id="realselect1" style="visibility:hidden; hight: 0%">
      <option value="0" selected></option>
      <option value="1" ></option>
      <option value="2" ></option>
      <option value="3" ></option>
      <option value="4" ></option>
      <option value="5" ></option>
      </select>
      </form>
      <p>Végeredmény:
        <ul id="resultssss">
      <li><span id="1im"></span></li>
      <li><span id="2im"></span></li>
      <li><span id="3im"></span></li>
      <li><span id="4im"></span></li>
      <li><span id="5im"></span></li>
      
      </ul>
      </p>
      <p style="height:10vh; visibility:hidden">
        a
      </p>
      <script>
      "use strict";
document.getElementById("register").addEventListener("click",()=>{
  document.getElementById("moderationbutton").style.pointerEvents = "all"
})
const customSelectToggle = document.getElementById('customSelectToggle');
const customSelectToggle1 = document.getElementById('customSelectToggle1');
const realSelect = document.getElementById('realselect');
const realSelect1 = document.getElementById('realselect1');
const customSelectInput = document.getElementById('customSelectInput');
//const customSelectInput1 = document.getElementById('customSelectInput1');
const customSelectDropdown = document.getElementById('customSelectDropdown');
const customSelectDropdown1 = document.getElementById('customSelectDropdown1');
const customSelectOption = document.getElementsByClassName('custom-select__option');
const customSelectOption1 = document.getElementsByClassName('custom-select__option1');

customSelectToggle.addEventListener("click", function () {
  customSelectDropdown.classList.toggle("active");
  if(customSelectToggle1.style.zIndex == 0){
    
  customSelectToggle1.style.zIndex = -1
  customSelectDropdown1.style.zIndex = -1
  }else{
    customSelectToggle1.style.zIndex = 0
    customSelectDropdown1.style.zIndex = 0
  }
});
customSelectToggle1.addEventListener("click", function () {
  customSelectDropdown1.classList.toggle("active");
});

for (let i = 0; i < customSelectOption.length; i++) {
  customSelectOption[i].addEventListener("click", function () {
    customSelectToggle.innerHTML = customSelectOption[i].innerHTML;
    customSelectToggle.value = customSelectOption[i].dataset.value;
    realSelect.value = customSelectOption[i].dataset.value;
    customSelectToggle.dataset.index = customSelectOption[i].dataset.index;
    customSelectDropdown.classList.remove("active");
  });
}
for (let i = 0; i < customSelectOption1.length; i++) {
  customSelectOption1[i].addEventListener("click", function () {
    customSelectToggle1.innerHTML = customSelectOption1[i].innerHTML;
    customSelectToggle1.value = customSelectOption1[i].dataset.value;
    realSelect1.value = customSelectOption1[i].dataset.value;
    console.log(realSelect1.value)
    customSelectToggle1.dataset.index = customSelectOption1[i].dataset.index;
    customSelectDropdown1.classList.remove("active");
  });
}
      </script>
      <script>
        let vars = [
  "sexualres",
  "hateres",
  "violanceres",
  "selfres",
  "minres",
  "threateningres",
  "graphicres",
];
        document.addEventListener("DOMContentLoaded", () => {
  var flagged = `<%= flagged %>`;
  var sexualres = `<%= sexualres %>`;
  var hateres = `<%= hateres %>`;
  var violanceres = `<%= violanceres %>`;
  var selfres = `<%= selfres %>`;
  var minres = `<%= minres %>`;
  var threateningres = `<%= threateningres %>`;
  var graphicres = `<%= graphicres %>`;
  var images0 = `<%= images0 %>`
  var conf0 = `<%= conf0 %>`
  var images1 = `<%= images1 %>`
  var conf1 = `<%= conf1 %>`
  var images2 = `<%= images2 %>`
  var conf2 = `<%= conf2 %>`
  var images3 = `<%= images3 %>`
  var conf3 = `<%= conf3 %>`
  var images4 = `<%= images4 %>`
  var conf4 = `<%= conf4 %>`
  var imageresulted = `<%= imageresulted %>`
  console.log("img"+images0)
  if(images0 == ""){
    
  }else if (images0[0] == "<"){
    
  }else{
    customSelectToggle.innerHTML = customSelectOption[imageresulted].innerHTML;
    customSelectToggle.value = imageresulted;
    realSelect.value = imageresulted;
    customSelectToggle.dataset.index = imageresulted;
    document.getElementById("1im").innerText = images0 + ": " + Math.floor( conf0 * 100) +"%"
    document.getElementById("2im").innerText = images1 + ": " + Math.floor( conf1 * 100) + "%"
    document.getElementById("3im").innerText = images2 + ": " + Math.floor( conf2 * 100) +"%"
    document.getElementById("4im").innerText = images3 + ": " + Math.floor( conf3 * 100) +"%"
    document.getElementById("5im").innerText = images4 + ": " + Math.floor( conf4 * 100) +"%"
    console.log(images0)
    console.log(images1)
    console.log(images2)
    console.log(images3)
    console.log(images4)
  }
  if (flagged == "true") {
    document.getElementById(`flagged`).innerHTML = "igaz";
  } else {
    document.getElementById(`flagged`).innerHTML = "hamis";
  }
  console.log("<%= minres %>");
  if (minres[0] == "<") {
    document.getElementById(`resultsss`).style.visibility = "hidden";
    document.getElementById(`flagged`).value = 0;
    document.getElementById(`${vars[0]}`).innerHTML = 0;
    document.getElementById(`${vars[0]}1`).value = 0;
    document.getElementById(`${vars[1]}`).innerHTML = 0;
    document.getElementById(`${vars[1]}1`).value = 0;
    document.getElementById(`${vars[2]}`).innerHTML = 0;
    document.getElementById(`${vars[2]}1`).value = 0;
    document.getElementById(`${vars[3]}`).innerHTML = 0;
    document.getElementById(`${vars[3]}1`).value = 0;
    document.getElementById(`${vars[4]}`).innerHTML = 0;
    document.getElementById(`${vars[4]}1`).value = 0;
    document.getElementById(`${vars[5]}`).innerHTML = 0;
    document.getElementById(`${vars[5]}1`).value = 0;
    document.getElementById(`${vars[6]}`).innerHTML = 0;
    document.getElementById(`${vars[6]}1`).value = 0;
  } else {
    document.getElementById(`resultsss`).style.visibility = "visible";
    document.getElementById(`flagged`).value = flagged;
    document.getElementById(`${vars[0]}`).innerHTML = sexualres;
    document.getElementById(`${vars[0]}1`).value = sexualres;
    document.getElementById(`${vars[1]}`).innerHTML = hateres;
    document.getElementById(`${vars[1]}1`).value = hateres;
    document.getElementById(`${vars[2]}`).innerHTML = violanceres;
    document.getElementById(`${vars[2]}1`).value = violanceres;
    document.getElementById(`${vars[3]}`).innerHTML = selfres;
    document.getElementById(`${vars[3]}1`).value = selfres;
    document.getElementById(`${vars[4]}`).innerHTML = minres;
    document.getElementById(`${vars[4]}1`).value = minres;
    document.getElementById(`${vars[5]}`).innerHTML = threateningres;
    document.getElementById(`${vars[5]}1`).value = threateningres;
    document.getElementById(`${vars[6]}`).innerHTML = graphicres;
    document.getElementById(`${vars[6]}1`).value = graphicres;
  }
});
        </script>
  <input id="flagged1" style="visibility: hidden" type="text" name="flagged">
  <input id="sexualres1" style="visibility: hidden" type="text" name="sexualres">
  <input id="hateres1" style="visibility: hidden" type="text" name="hateres">
  <input id="violanceres1" style="visibility: hidden" type="text" name="violanceres">
  <input id="selfres1" style="visibility: hidden" type="text" name="selfres">
  <input id="minres1" style="visibility: hidden" type="text" name="minres">
  <input id="threateningres1" style="visibility: hidden" type="text" name="threateningres">
  <input id="graphicres1" style="visibility: hidden" type="text" name="graphicres">
  </body>
</html>
